{"version":3,"file":"kooky.umd.js","sources":["../src/index.js"],"sourcesContent":["/* global DEBUG */\nconst dec = decodeURIComponent,\n\tenc = encodeURIComponent,\n\tdecode = s => s.replace(/(%[0-9A-Z]{2})+/g, dec);\n\nfunction setCookie(key, value, {expires, domain, secure, path = '/'} = {}) {\n\tif (typeof value !== 'string') {\n\t\tvalue = String(value);\n\t}\n\tkey = enc(\n\t\tkey.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, dec)\n\t);\n\tvalue = enc(\n\t\tvalue.replace(/%(23|24|26|2B|5E|60|7C)/g, dec).replace(/[\\\\]/g, escape)\n\t);\n\tlet text = `${key}=${value}`;\n\ttext += `; path=${path.split(';')[0]}`;\n\ttypeof expires === 'number' && (expires = new Date(Date.now() + expires * 36e5));\n\t// js中toUTCString和toGMTString是一样的\n\t// https://segmentfault.com/a/1190000006798626\n\texpires instanceof Date && (text += `; expires=${expires.toUTCString()}`);\n\ttypeof domain === 'string' && (text += `; domain=${domain.split(';')[0]}`);\n\tsecure && (text += '; secure');\n\treturn (document.cookie = text);\n}\n\nfunction getCookie(key) {\n\tconst cookies = document.cookie ? document.cookie.split('; ') : [],\n\t\trst = [];\n\tfor (var i = 0, len = cookies.length; i < len; ++i) {\n\t\tvar part = cookies[i].split('='),\n\t\t\tname = decode(part[0]),\n\t\t\tvalue = decode(part.slice(1).join('='));\n\t\tname === key && rst.push(value);\n\t}\n\treturn rst.length ? (rst.length === 1 ? rst[0] : rst) : null;\n}\n\nfunction removeCookie(key, options) {\n\tsetCookie(key, '', {\n\t\t...options,\n\t\texpires: -1\n\t});\n}\n\nexport {setCookie, getCookie, removeCookie};\n"],"names":["dec","decodeURIComponent","enc","encodeURIComponent","decode","s","replace","setCookie","key","value","expires","domain","secure","path","String","escape","text","split","Date","now","toUTCString","document","cookie","getCookie","cookies","rst","i","len","length","part","name","slice","join","push","removeCookie","options"],"mappings":"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"}