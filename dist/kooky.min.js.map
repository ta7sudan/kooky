{"version":3,"file":"kooky.min.js","sources":["kooky.js"],"sourcesContent":["/* global DEBUG */\nconst dec = decodeURIComponent,\n\tenc = encodeURIComponent,\n\tdecode = s => s.replace(/(%[0-9A-Z]{2})+/g, dec);\n\nfunction setCookie(key, value, {expires, domain, secure, path = '/'} = {}) {\n\tkey = enc(\n\t\tkey.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, dec)\n\t);\n\tvalue = enc(\n\t\tvalue.replace(/%(23|24|26|2B|5E|60|7C)/g, dec).replace(/[\\\\]/g, escape)\n\t);\n\tlet text = `${key}=${value}`;\n\ttext += `; path=${path.split(';')[0]}`;\n\ttypeof expires === 'number' && (expires = new Date(Date.now() + expires * 36e5));\n\t// js中toUTCString和toGMTString是一样的\n\t// https://segmentfault.com/a/1190000006798626\n\texpires instanceof Date && (text += `; expires=${expires.toUTCString()}`);\n\ttypeof domain === 'string' && (text += `; domain=${domain.split(';')[0]}`);\n\tsecure && (text += '; secure');\n\treturn (document.cookie = text);\n}\n\nfunction getCookie(key) {\n\tconst cookies = document.cookie ? document.cookie.split('; ') : [],\n\t\trst = [];\n\tfor (var i = 0, len = cookies.length; i < len; ++i) {\n\t\tvar part = cookies[i].split('='),\n\t\t\tname = decode(part[0]),\n\t\t\tvalue = decode(part.slice(1).join('='));\n\t\tname === key && rst.push(value);\n\t}\n\treturn rst.length ? (rst.length === 1 ? rst[0] : rst) : null;\n}\n\nfunction removeCookie(key, options) {\n\tsetCookie(key, {\n\t\t...options,\n\t\texpires: -1\n\t});\n}\n\nexport {setCookie, getCookie, removeCookie};\n"],"names":["dec","decodeURIComponent","enc","encodeURIComponent","decode","s","replace","setCookie","key","value","expires","domain","secure","path","text","escape","split","Date","now","toUTCString","document","cookie","cookies","rst","i","len","length","part","name","slice","join","push","options"],"mappings":";;;;;;uYACA,IAAMA,EAAMC,mBACXC,EAAMC,mBACNC,EAAS,SAAAC,UAAKA,EAAEC,QAAQ,mBAAoBN,IAE7C,SAASO,EAAUC,EAAKC,sBAA+C,KAAvCC,IAAAA,QAASC,IAAAA,OAAQC,IAAAA,WAAQC,KAAAA,aAAO,MAO3DC,GANJN,EAAMN,EACLM,EAAIF,QAAQ,4DAA6DN,UAE1ES,EAAQP,EACPO,EAAMH,QAAQ,2BAA4BN,GAAKM,QAAQ,QAASS,iBAGjED,aAAkBD,EAAKG,MAAM,KAAK,GACf,iBAAZN,IAAyBA,EAAU,IAAIO,KAAKA,KAAKC,MAAkB,KAAVR,IAGhEA,aAAmBO,OAASH,gBAAqBJ,EAAQS,eACvC,iBAAXR,IAAwBG,eAAoBH,EAAOK,MAAM,KAAK,IACrEJ,IAAWE,GAAQ,YACXM,SAASC,OAASP,4BAG3B,SAAmBN,WACZc,EAAUF,SAASC,OAASD,SAASC,OAAOL,MAAM,MAAQ,GAC/DO,EAAM,GACEC,EAAI,EAAGC,EAAMH,EAAQI,OAAQF,EAAIC,IAAOD,EAAG,KAC/CG,EAAOL,EAAQE,GAAGR,MAAM,KAC3BY,EAAOxB,EAAOuB,EAAK,IACnBlB,EAAQL,EAAOuB,EAAKE,MAAM,GAAGC,KAAK,MACnCF,IAASpB,GAAOe,EAAIQ,KAAKtB,UAEnBc,EAAIG,OAAyB,IAAfH,EAAIG,OAAeH,EAAI,GAAKA,EAAO,qBAGzD,SAAsBf,EAAKwB,GAC1BzB,EAAUC,OACNwB,GACHtB,SAAU"}